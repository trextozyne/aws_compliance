class EC2Manager:
    def __init__(self):
        self._ec2 = boto3.client('ec2')
    
    def stop_instance(self, instance_id):
        response = self._ec2.stop_instances(
            InstanceIds=[instance_id]
        )
        return response
    
    def start_instance(self, instance_id):
        response = self._ec2.start_instances(
            InstanceIds=[instance_id]
        )
        return response

def lambda_handler(event, context):
    instance_id = event['TriggerDimensions']['Dimensions'][0]['value']
    ec2 = EC2Manager()
    if event['Action'] == 'stop':
        response = ec2.stop_instance(instance_id)
    elif event['Action'] == 'start':
        response = ec2.start_instance(instance_id)
    else:
        response = {"Error": "Invalid action specified."}
    return response
